{"version":3,"sources":["webpack:///./src/components/BelgiumMapComponent.vue?5411","webpack:///./src/views/Belgium.vue?b0ab","webpack:///./src/components/BelgiumMapComponent.vue?fc9c","webpack:///./src/components/BelgiumMapLegendComponent.vue?16a6","webpack:///src/components/BelgiumMapLegendComponent.vue","webpack:///./src/components/BelgiumMapLegendComponent.vue?ceac","webpack:///./src/components/BelgiumMapLegendComponent.vue","webpack:///src/components/BelgiumMapComponent.vue","webpack:///./src/components/BelgiumMapComponent.vue?2137","webpack:///./src/components/BelgiumMapComponent.vue","webpack:///src/views/Belgium.vue","webpack:///./src/views/Belgium.vue?2a2a","webpack:///./src/views/Belgium.vue","webpack:///./node_modules/date-fns/formatISO9075/index.js","webpack:///./src/components/BelgiumMapLegendComponent.vue?a26a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","communes","lastUpdate","options","model","value","callback","$$v","selectedOption","expression","staticRenderFns","ref","_v","scaleColor","_s","dateFormatISO9075","width","height","_l","t","key","offset","stopColor","margin","insideWidth","insideHeight","top","props","type","Number","required","scale","Function","data","right","bottom","left","mounted","updateAxis","watch","computed","ticks","map","axisScale","d3","methods","component","Object","Date","Array","zoom","center","basemaps","communesFg","initMap","updateCommunes","get","set","$emit","newVal","light","addTo","$nextTick","then","style","onEachFeature","layer","setStyle","bindTooltip","on","mouseover","bringToFront","mouseout","getIncidence","name","cases","pop","incidence","components","BelgiumMapLegendComponent","appService","features","created","getCommunes","getLastUpdate","getBelgiumCommunes","days","getBelgiumCommunesLastUpdate","BelgiumMapComponent","defineProperty","exports","default","formatISO9075","_index","_interopRequireDefault","_index2","_index3","obj","__esModule","dirtyDate","dirtyOptions","arguments","length","TypeError","concat","originalDate","RangeError","format","String","representation","result","dateDelimiter","timeDelimiter","day","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","second","getSeconds","separator","module"],"mappings":"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","file":"js/belgium.f4991c58.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BelgiumMapComponent.vue?vue&type=style&index=0&id=d175fedc&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-100 v-100\"},[_c('BelgiumMapComponent',{attrs:{\"communes\":_vm.communes,\"last-update\":_vm.lastUpdate,\"options\":_vm.options},model:{value:(_vm.selectedOption),callback:function ($$v) {_vm.selectedOption=$$v},expression:\"selectedOption\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-100\"},[_c('div',{ref:\"map\",staticClass:\"map h-100\"}),_c('div',{staticClass:\"overlay text-center\"},[_c('div',{staticClass:\"small\"},[_c('b-form-select',{staticClass:\"mt-3\",attrs:{\"options\":_vm.options,\"size\":\"sm\"},model:{value:(_vm.selectedOption),callback:function ($$v) {_vm.selectedOption=$$v},expression:\"selectedOption\"}})],1),_c('div',{staticClass:\"small\"},[_vm._v(\"Incidence (cases/100k inhab.)\")]),_c('BelgiumMapLegendComponent',{attrs:{\"height\":40,\"width\":220,\"scale\":_vm.scaleColor}}),_c('div',{staticClass:\"small text-muted\"},[_c('small',[_vm._v(\"Last update: \"),_c('a',{attrs:{\"href\":\"https://github.com/Thib-G/coronavirus/tree/master/data\"}},[_vm._v(_vm._s(_vm.dateFormatISO9075(_vm.lastUpdate)))])])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"width\":_vm.width,\"height\":_vm.height}},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"legend-gradient\"}},_vm._l((_vm.ticks),function(t){return _c('stop',{key:t.key,attrs:{\"offset\":t.offset,\"stop-color\":t.stopColor}})}),1)],1),_c('g',{attrs:{\"transform\":(\"translate(\" + (_vm.margin.left) + \",\" + (_vm.margin.top) + \")\")}},[_c('rect',{staticClass:\"legend\",attrs:{\"x\":\"0\",\"y\":\"0\",\"width\":_vm.insideWidth,\"height\":_vm.insideHeight}})]),_c('g',{ref:\"xAxis\",staticClass:\"x-axis\",attrs:{\"transform\":(\"translate(\" + (_vm.margin.left) + \",\" + (_vm.margin.top + _vm.insideHeight) + \")\")}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <svg :width=\"width\" :height=\"height\">\n    <defs>\n      <linearGradient id=\"legend-gradient\">\n        <stop\n          v-for=\"t in ticks\"\n          :key=\"t.key\"\n          :offset=\"t.offset\"\n          :stop-color=\"t.stopColor\"\n        />\n      </linearGradient>\n    </defs>\n    <g :transform=\"`translate(${margin.left},${margin.top})`\">\n      <rect\n        class=\"legend\"\n        x=\"0\"\n        y=\"0\"\n        :width=\"insideWidth\"\n        :height=\"insideHeight\"\n      />\n    </g>\n    <g\n      ref=\"xAxis\"\n      class=\"x-axis\"\n      :transform=\"`translate(${margin.left},${margin.top + insideHeight})`\"\n    />\n  </svg>\n</template>\n\n<script>\nimport d3 from '@/assets/d3';\n\nexport default {\n  props: {\n    width: {\n      type: Number,\n      required: true,\n    },\n    height: {\n      type: Number,\n      required: true,\n    },\n    scale: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      margin: {\n        top: 5,\n        right: 5,\n        bottom: 15,\n        left: 5,\n      },\n    };\n  },\n  mounted() {\n    this.updateAxis();\n  },\n  watch: {\n    scale() {\n      this.updateAxis();\n    },\n  },\n  computed: {\n    ticks() {\n      return this.scale.ticks().map((t, i, arr) => ({\n        key: `${t}-${i}`,\n        offset: `${(100 * i) / arr.length}%`,\n        stopColor: this.scale(t),\n      }));\n    },\n    axisScale() {\n      return d3.scaleLinear()\n        .domain(this.scale.domain())\n        .range([0, this.insideWidth]);\n    },\n    insideWidth() {\n      return this.width - this.margin.left - this.margin.right;\n    },\n    insideHeight() {\n      return this.height - this.margin.top - this.margin.bottom;\n    },\n  },\n  methods: {\n    updateAxis() {\n      d3.select(this.$refs.xAxis)\n        .call(\n          d3.axisBottom(this.axisScale)\n            .ticks(this.insideWidth / 50)\n            .tickSize(-this.insideHeight),\n        );\n    },\n  },\n};\n</script>\n\n<style scoped>\n  svg >>> .x-axis line, svg >>> .x-axis path {\n    stroke: white;\n  }\n  rect.legend {\n    fill: url(#legend-gradient);\n    opacity: 0.6;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BelgiumMapLegendComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BelgiumMapLegendComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BelgiumMapLegendComponent.vue?vue&type=template&id=965c6ac0&scoped=true&\"\nimport script from \"./BelgiumMapLegendComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./BelgiumMapLegendComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BelgiumMapLegendComponent.vue?vue&type=style&index=0&id=965c6ac0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"965c6ac0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"h-100\">\n    <div ref=\"map\" class=\"map h-100\" />\n    <div class=\"overlay text-center\">\n      <div class=\"small\">\n        <b-form-select v-model=\"selectedOption\" :options=\"options\" size=\"sm\" class=\"mt-3\" />\n      </div>\n      <div class=\"small\">Incidence (cases/100k inhab.)</div>\n      <BelgiumMapLegendComponent\n        :height=\"40\"\n        :width=\"220\"\n        :scale=\"scaleColor\"\n      />\n      <div class=\"small text-muted\">\n        <small>Last update:\n          <a href=\"https://github.com/Thib-G/coronavirus/tree/master/data\">{{ dateFormatISO9075(lastUpdate) }}</a>\n        </small>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport L from 'leaflet';\nimport dateFormatISO9075 from 'date-fns/formatISO9075';\n\nimport d3 from '@/assets/d3';\nimport basemaps from '@/assets/map/basemaps';\n\nimport BelgiumMapLegendComponent from '@/components/BelgiumMapLegendComponent.vue';\n\nexport default {\n  props: {\n    communes: {\n      type: Object,\n      required: true,\n    },\n    lastUpdate: {\n      type: Date,\n      required: true,\n    },\n    options: {\n      type: Array,\n      required: true,\n    },\n    value: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      dateFormatISO9075,\n      zoom: 8,\n      center: L.latLng([50.465841, 4.857634]),\n      basemaps: basemaps('&copy; <a href=\"https://epistat.wiv-isp.be/covid/\">https://epistat.wiv-isp.be/covid/</a> | '),\n      communesFg: L.featureGroup(),\n    };\n  },\n  mounted() {\n    this.initMap();\n    this.updateCommunes();\n  },\n  watch: {\n    communes() {\n      this.updateCommunes();\n    },\n  },\n  computed: {\n    selectedOption: {\n      get() {\n        return this.value;\n      },\n      set(newVal) {\n        this.$emit('input', newVal);\n      },\n    },\n    scaleColor() {\n      const incidences = this.communes.features\n        .filter((f) => f.properties.NameDut !== 'Herstappe')\n        .map((f) => this.getIncidence(f).incidence);\n      const min = Math.min(...incidences);\n      const max = Math.max(...incidences);\n      return d3.scaleSequential(d3.interpolateGreens)\n        .domain([min, max]);\n    },\n  },\n  methods: {\n    initMap() {\n      this.map = L.map(this.$refs.map, {\n        center: this.center,\n        zoom: this.zoom,\n      });\n      this.basemaps.light.addTo(this.map);\n      L.control.layers(this.basemaps).addTo(this.map);\n      this.communesFg.addTo(this.map);\n    },\n    updateCommunes() {\n      this.$nextTick().then(() => {\n        this.communesFg.clearLayers();\n        const layers = L.geoJson(this.communes, {\n          style: () => ({\n            weight: 2, color: 'grey', opacity: 0.8, fillOpacity: 0.6,\n          }),\n          onEachFeature: (feature, layer) => {\n            const inc = this.getIncidence(feature);\n            layer.setStyle({ fillColor: this.scaleColor(inc.incidence) });\n            layer.bindTooltip(`<b>${inc.name}:</b>\n              ${inc.cases} cases<br />\n              Population: ${inc.pop}<br />\n              Incidence: ${inc.cases === '<5' ? '<' : ''}${inc.incidence.toFixed(1)} cases/100k inhab.`);\n            layer.on({\n              mouseover: () => {\n                layer.bringToFront();\n                layer.setStyle({ color: 'black' });\n              },\n              mouseout: () => {\n                layer.setStyle({ color: 'grey' });\n              },\n            });\n          },\n        });\n        this.communesFg.addLayer(layers);\n      });\n    },\n    getIncidence(feature) {\n      const p = feature.properties;\n      const name = `${p.NameDut || ''} ${p.NameFre || ''} ${p.NameGer || ''}`;\n      const cases = p.cases ? p.cases.CASES : '?';\n      const pop = p.population ? p.population.POP : 0;\n      const incidence = (pop > 0 && cases !== '?') ? ((cases === '<5' ? 5 : +cases) / pop) * 1e5 : 0;\n      return {\n        name,\n        cases,\n        pop,\n        incidence,\n      };\n    },\n  },\n  components: {\n    BelgiumMapLegendComponent,\n  },\n};\n</script>\n\n<style scoped>\n  .overlay {\n    height: 140px;\n    width: 240px;\n    position: absolute;\n    left: 10px;\n    bottom: 10px;\n    z-index: 999;\n    background-color: rgb(255, 255, 255);\n    background-color: rgba(255, 255, 255, 0.8);\n    border-radius: 10px;\n    padding: 5px;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BelgiumMapComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BelgiumMapComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BelgiumMapComponent.vue?vue&type=template&id=d175fedc&scoped=true&\"\nimport script from \"./BelgiumMapComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./BelgiumMapComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BelgiumMapComponent.vue?vue&type=style&index=0&id=d175fedc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d175fedc\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"h-100 v-100\">\n    <BelgiumMapComponent\n      :communes=\"communes\"\n      :last-update=\"lastUpdate\"\n      :options=\"options\"\n      v-model=\"selectedOption\"\n    />\n  </div>\n</template>\n\n<script>\nimport AppService from '@/services/app-service';\n\nimport BelgiumMapComponent from '@/components/BelgiumMapComponent.vue';\n\nexport default {\n  data() {\n    const options = [\n      { text: 'Total cumulative', value: -1 },\n      { text: 'Last 7 days cumulative', value: 7 },\n      { text: 'Last 14 days cumulative', value: 14 },\n    ];\n    return {\n      appService: AppService,\n      communes: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n      lastUpdate: new Date(1970, 0, 1),\n      options,\n      selectedOption: options[0].value,\n    };\n  },\n  created() {\n    this.getCommunes(this.selectedOption);\n    this.getLastUpdate();\n  },\n  watch: {\n    selectedOption(newVal) {\n      this.getCommunes(newVal);\n    },\n  },\n  methods: {\n    getCommunes(days) {\n      this.appService.getBelgiumCommunes(days).then((data) => {\n        this.communes = data;\n      });\n    },\n    getLastUpdate() {\n      this.appService.getBelgiumCommunesLastUpdate().then((data) => {\n        this.lastUpdate = data;\n      });\n    },\n  },\n  components: {\n    BelgiumMapComponent,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Belgium.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Belgium.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Belgium.vue?vue&type=template&id=cff50638&\"\nimport script from \"./Belgium.vue?vue&type=script&lang=js&\"\nexport * from \"./Belgium.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatISO9075;\n\nvar _index = _interopRequireDefault(require(\"../toDate/index.js\"));\n\nvar _index2 = _interopRequireDefault(require(\"../isValid/index.js\"));\n\nvar _index3 = _interopRequireDefault(require(\"../_lib/addLeadingZeros/index.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @name formatISO9075\n * @category Common Helpers\n * @summary Format the date according to the ISO 9075 standard (https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html#function_get-format).\n *\n * @description\n * Return the formatted date string in ISO 9075 format. Options may be passed to control the parts and notations of the date.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {'extended'|'basic'} [options.format='extended'] - if 'basic', hide delimiters between date and time values.\n * @param {'complete'|'date'|'time'} [options.representation='complete'] - format date, time, or both.\n * @returns {String} the formatted date string\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.format` must be 'extended' or 'basic'\n * @throws {RangeError} `options.represenation` must be 'date', 'time' or 'complete'\n *\n * @example\n * // Represent 18 September 2019 in ISO 9075 format:\n * const result = formatISO9075(new Date(2019, 8, 18, 19, 0, 52))\n * //=> '2019-09-18 19:00:52'\n *\n * @example\n * // Represent 18 September 2019 in ISO 9075, short format:\n * const result = formatISO9075(new Date(2019, 8, 18, 19, 0, 52), { format: 'basic' })\n * //=> '20190918 190052'\n *\n * @example\n * // Represent 18 September 2019 in ISO 9075 format, date only:\n * const result = formatISO9075(new Date(2019, 8, 18, 19, 0, 52), { representation: 'date' })\n * //=> '2019-09-18'\n *\n * @example\n * // Represent 18 September 2019 in ISO 9075 format, time only:\n * const result = formatISO9075(new Date(2019, 8, 18, 19, 0, 52), { representation: 'time' })\n * //=> '19:00:52'\n */\nfunction formatISO9075(dirtyDate, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError(\"1 argument required, but only \".concat(arguments.length, \" present\"));\n  }\n\n  var originalDate = (0, _index.default)(dirtyDate);\n\n  if (!(0, _index2.default)(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var options = dirtyOptions || {};\n  var format = options.format == null ? 'extended' : String(options.format);\n  var representation = options.representation == null ? 'complete' : String(options.representation);\n\n  if (format !== 'extended' && format !== 'basic') {\n    throw new RangeError(\"format must be 'extended' or 'basic'\");\n  }\n\n  if (representation !== 'date' && representation !== 'time' && representation !== 'complete') {\n    throw new RangeError(\"representation must be 'date', 'time', or 'complete'\");\n  }\n\n  var result = '';\n  var dateDelimiter = format === 'extended' ? '-' : '';\n  var timeDelimiter = format === 'extended' ? ':' : ''; // Representation is either 'date' or 'complete'\n\n  if (representation !== 'time') {\n    var day = (0, _index3.default)(originalDate.getDate(), 2);\n    var month = (0, _index3.default)(originalDate.getMonth() + 1, 2);\n    var year = (0, _index3.default)(originalDate.getFullYear(), 4); // yyyyMMdd or yyyy-MM-dd.\n\n    result = \"\".concat(year).concat(dateDelimiter).concat(month).concat(dateDelimiter).concat(day);\n  } // Representation is either 'time' or 'complete'\n\n\n  if (representation !== 'date') {\n    var hour = (0, _index3.default)(originalDate.getHours(), 2);\n    var minute = (0, _index3.default)(originalDate.getMinutes(), 2);\n    var second = (0, _index3.default)(originalDate.getSeconds(), 2); // If there's also date, separate it with time with a space\n\n    var separator = result === '' ? '' : ' '; // HHmmss or HH:mm:ss.\n\n    result = \"\".concat(result).concat(separator).concat(hour).concat(timeDelimiter).concat(minute).concat(timeDelimiter).concat(second);\n  }\n\n  return result;\n}\n\nmodule.exports = exports.default;","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BelgiumMapLegendComponent.vue?vue&type=style&index=0&id=965c6ac0&scoped=true&lang=css&\""],"sourceRoot":""}